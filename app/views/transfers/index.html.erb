<h1>NEAR Blockchain Transfers</h1>

<div>
  <%= link_to 'All', transfers_path, class: 'btn btn-default' %>
  <%= link_to 'Transfer', transfers_path(action_type: 'Transfer'), class: 'btn btn-primary' %>
  <%= link_to 'FunctionCall', transfers_path(action_type: 'FunctionCall'), class: 'btn btn-secondary' %>
  <%= link_to 'AddKey', transfers_path(action_type: 'AddKey'), class: 'btn btn-success' %>
</div>

<table>
  <thead>
    <tr>
      <th>Sender</th>
      <th>Receiver</th>
      <th>Deposit</th>
      <th>Date</th>
    </tr>
  </thead>
  <tbody>
    <% @transfers.each do |transaction| %>
      <% transfer_action = transaction.actions %>
      <% if transfer_action %>
        <tr>
          <td><%= transaction.sender %></td>
          <td><%= transaction.receiver %></td>
          <td><%= transfer_action.map(&:args) %></td>
          <td><%= transaction.created_at.strftime('%Y-%m-%d %H:%M:%S') %></td>
        </tr>
      <% end %>
    <% end %>
  </tbody>
</table>

<%= will_paginate @transfers %>